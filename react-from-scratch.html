<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="description" content="Learn how React works by building it without the create-react-app framework."><title>React from Scratch</title><link rel="stylesheet" href="./styles.css"></head><body>
<main id="main"><article id="content"><h1 id="title">React from Scratch</h1>
<p>Learn how <a href="react.html">React</a> works by building it without the <a href="https://create-react-app.dev/" target="_blank">create-react-app</a> framework.</p>
<p>For React to work properly, you will need three things: </p>
<ul>
<li><a href="babel.html">Babel</a> - This is a transpiler that will allow you to use JSX within your components and make your site usable to clients that do not have ES6 functionality available.</li>
<li><a href="webpack.html">Webpack</a> - This is a compiler that will take all of your modules, styles, etc. and put them together.</li>
<li><a href="react.html">React</a> - This is the meat and potatoes that will render your page, let you use state, hooks, etc.</li>
</ul>
<p>The easiest way to do this is with <a href="https://create-react-app.dev/" target="_blank">create-react-app</a>. But if you want to know how it works:</p>
<h2>Get all your parts</h2>
<ul>
<li>
<p>Initialize a new <a href="npm.html">npm</a> project with <code>npm init</code>. You can skip all the questions with the <code>-y</code> flag.</p>
</li>
<li>
<p>Install <code>babel</code> in your development dependencies:
<code>npm install --save-dev @babel/core @babel/preset-env @babel/preset-react</code>. </p>
<ul>
<li><em>@babel/core —</em> This contains the babel core configuration, </li>
<li><em>@babel/preset-env —</em> This contains different plugins, the most important of which transforms all  ES2015-ES2020 code to be ES5 compatible (the one JavaScript version where almost all browsers implement)</li>
<li><em>@babel/preset-react —</em> This contains different plugins to enable React syntax parsing and transformation.</li>
</ul>
</li>
<li>
<p>Install <code>babel-loader</code> for webpack to use:
<code>npm install --save-dev babel-loader</code></p>
<ul>
<li>To transform our code, we will use a package called <code>babel-loader</code>. <code>babel-loader</code> will allow us to transpile our JavaScript file using babel and webpack.</li>
</ul>
</li>
<li>
<p>Install <code>webpack</code> in your development dependencies:
<code>npm install --save-dev webpack webpack-cli webpack-dev-server</code></p>
<ul>
<li><em>webpack —</em> the core webpack functionality package. </li>
<li><em>webpack-cli —</em> this package is necessary to use the CLI.</li>
<li><em>webpack-dev-server —</em> this is for the dev server that allows live reloading</li>
</ul>
</li>
<li>
<p>Install <code>react</code> in your project.
<code>npm install react react-dom</code></p>
</li>
<li>
<p>Create the <code>public</code>-facing folder for the client, and an <code>app.js</code> within a sibling <code>src</code> folder</p>
</li>
</ul>
<h2>Make your webpack config and babel config</h2>
<p>In the root folder, create a <code>webpack.config.js</code> file that pulls in the node <code>path</code> module. This is where you will be putting your entry and output points in your webpack builders. (TA: Search 'webpack configuration' and you should be reminded of all the things you need.)</p>
<div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">entry</span><span class="o">:</span> <span class="s1">&#39;.src/app.js&#39;</span><span class="p">,</span>     <span class="c1">// which file your app will be pulling the data from for it&#39;s dependency graph</span>
  <span class="nx">output</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">filename</span><span class="o">:</span> <span class="s1">&#39;bundle.js&#39;</span><span class="p">,</span>  <span class="c1">// the name of the file it will output the bundle to</span>
    <span class="nx">path</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;public&#39;</span><span class="p">),</span>  <span class="c1">// the output folder fo your bundles</span>
  <span class="p">},</span>
  <span class="nx">module</span><span class="o">:</span> <span class="p">{</span>  <span class="c1">// determines which loader to use</span>
    <span class="nx">rules</span><span class="o">:</span> <span class="p">[{</span>
      <span class="nx">loader</span><span class="o">:</span> <span class="s1">&#39;babel-loader&#39;</span><span class="p">,</span>
      <span class="nx">test</span><span class="o">:</span> <span class="sr">/\.jsx?$/</span><span class="p">,</span>            <span class="c1">// transform js files</span>
      <span class="nx">exclude</span><span class="o">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>  <span class="c1">// but not node_modules</span>
    <span class="p">}]</span>
  <span class="p">},</span>
  <span class="nx">devServer</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">contentBase</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;public&#39;</span><span class="p">),</span> <span class="c1">// where to serve from when running the webpack dev server</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>In the root folder, create a file called <code>babel.config.json</code>. (TA: Search for 'babel config' and you should be able to find everything you need.)</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;presets&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;@babel/preset-env&quot;</span><span class="p">,</span>
    <span class="s2">&quot;@babel/preset-react&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<p><code>babel-loader</code> will try to find the babel configuration file —this <code>babel.config.json</code>. The code in this file instructs <code>babel-loader</code> to use <code>@babel/preset-env</code> and <code>@babel/preset-react</code> presets that we have installed earlier when transpiling our code.</p>
<p>Add scripts in package.json for running webpack</p>
<div class="highlight"><pre><span></span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;webpack&quot;</span><span class="p">,</span>
  <span class="nt">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;webpack serve&quot;</span><span class="p">,</span> 
  <span class="nt">&quot;watch&quot;</span><span class="p">:</span> <span class="s2">&quot;webpack --watch&quot;</span>
<span class="p">}</span>
</pre></div>
<h2>Create your documents</h2>
<p>In <code>public</code>, make the html page you will inject into. This needs to have the injection point as well as the webpack bundle.</p>
<div class="highlight"><pre><span></span><span class="cp">&lt;!doctype html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Test<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;root&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;bundle.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<p>In <code>src</code>, create the React JS page that will inject your app into the <code>root</code> div.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">ReactDOM</span> <span class="kn">from</span> <span class="s1">&#39;react-dom&#39;</span><span class="p">;</span>

<span class="n">const</span> <span class="n">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Wow</span><span class="err">!</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">some</span> <span class="n">stuff</span><span class="o">.&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="n">ReactDOM</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="n">App</span> <span class="o">/&gt;</span><span class="p">,</span> 
  <span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
<p>Test it out by running <code>npm run start</code> and checking it in a browser.</p>
<h2>References</h2>
<ol>
<li><a href="https://medium.com/swlh/back-to-basics-how-to-set-up-a-react-app-from-scratch-2020-134908e17490" target="_blank">https://medium.com/swlh/back-to-basics-how-to-set-up-a-react-app-from-scratch-2020-134908e17490</a></li>
</ol>
<section id="backlinks"><h2>Backlinks:</h2><ul><li><a href="react.html">React</a></li></ul></section></article></main><footer><nav><p><a href="index.html">Sitemap</a></p><p><a href="fatfile.html">Fatfile (~500k)</a></p></nav><div class="social"><p>Built using <a href="http://github.com/milofultz/swiki" target="_blank" rel="noopener noreferrer">{{SWIKI}}</a></p><p><a href="http://github.com/milofultz/" target="_blank" rel="noopener noreferrer">GitHub</a></p><p><a href="http://milofultz.com/" target="_blank" rel="noopener noreferrer">milofultz.com</a></p></div></footer></body></html>